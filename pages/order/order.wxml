<view class="display">
  <view class="display-sele {{check=='0' ? 'active' : ''}}" bindtap='selectDispaly' data-id="0">
    全部
  </view>
  <view class="display-sele {{check=='1' ? 'active' : ''}}" bindtap='selectDispaly' data-id="1">
    自付
  </view>
  <view class="display-sele {{check=='2' ? 'active' : ''}}" bindtap='selectDispaly' data-id="2">
    部门代付
  </view>
</view>

<!--数据-->
<view wx:if="{{list.length != 0}}" class="eval-all">

  <block wx:for="{{list}}" wx:for-item="item" wx:key="">
    <view class="flex-row flex-grow-1 order-info">
      <view class="flex-grow-1 tl">订单号:{{item.order_number}}</view>
      <view class="flex-grow-0 tr">{{item.order_time}}</view>
    </view>

    <view class="goods-list flex-row">

      <image class="goods-pic" mode="aspectFill" src="{{item.img}}" />

      <view class="content flex-grow-1">
        <view class="flex-grow-1">
          <view class="goods-name text-style">{{item.name}}</view>
          <view class="attr-item">{{item.store_name}}</view>
        </view>

        <view class="flex-grow-1 flex-row">
          <view class="flex-grow-1 num">×{{item.number}}</view>
          <view class="flex-grow-0 price">￥{{item.price}}</view>
        </view>
      </view>


    </view>

    <view class="flex-row count-order">
      <view class="operation">

        <view bindtap='cancel' wx:if="{{item.status != 1 && item.order_status != 1}}" hover-class="none" class="flex-grow-0 score" wx:if="{{item.state == 0}}" data-id="{{item.id}}" wx:if="{{item.be_overdue == 0 && item.order_status == 0 && item.state == 0}}">取消</view>
        <navigator url="/pages/details/details?id={{item.f_id}}" hover-class="none" class="flex-grow-0 score">再来一单</navigator>
        <navigator url="/pages/sureOrder/sureOrder?id={{item.id}}" hover-class="none" wx:if="{{item.be_overdue == 0 && item.state == 0 && item.order_status != 1}}" class="flex-grow-0 score">备注</navigator>
        <view bindtap='have_meals' wx:if="{{item.state == 0 && item.order_status != 1}}" data-id="{{item.id}}" class="flex-grow-0 score btn">确认用餐</view>
        <navigator url="/pages/score/score?id={{item.id}}&food_id={{item.food_id}}" wx:if="{{item.status != 1 && item.state == 1 && item.order_status != 1}}" hover-class="none" class="flex-grow-0 score">评分</navigator>

				<view class="cancel" wx:if="{{item.state == 2}}">订单已取消</view>
      </view>

				<view class="food_status" wx:if="{{item.order_status == 1}}">{{item.order_status == 1?'商家已取消订单...':''}}</view>
    </view>

  </block>

  <view class="middle_none" wx:if="{{len == 0}}">我也是有底线的，别太过分~</view>
</view>

<view wx:else>
  <view class="middle_none" style="margin-top:300rpx;">暂无订单</view>
</view>